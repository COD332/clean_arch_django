# ๐๏ธ ูุนูุงุฑ ุชูุฒ DTO/Gateway

<div align="center">
  <img src="https://img.shields.io/badge/Django-5.0+-092E20?style=for-the-badge&logo=django&logoColor=white" alt="Django"/>
  <img src="https://img.shields.io/badge/Python-3.11+-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/Clean%20Architecture-โ-brightgreen?style=for-the-badge" alt="Clean Architecture"/>
  <img src="https://img.shields.io/badge/Test%20Coverage-100%25-brightgreen?style=for-the-badge" alt="Test Coverage"/>
</div>

<div align="center">
  <h1>๐ ุชูุณุนู ูพุดุฑูุชู ุฌูฺฏู ุจุง ุงูฺฏู DTO/Gateway</h1>
  <p><strong>ุชุจุฏูุงุช ุตุฑุญ ุฏุงุฏู ู ุฌุฏุงุณุงุฒ ุชูุฒ ูุงูโูุง ุจุฑุง ุงูพูฺฉุดูโูุง ุณุงุฒูุงู</strong></p>
</div>

---

## ๐ ูุนุฑู

ุงู ูพุฑูฺู ููุงุด **Clean Architecture** ุฏุฑ ุฌูฺฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู ููุขูุฑุงูู **DTO (Data Transfer Object) ู Gateway** ุงุณุช. ุจุฑุฎูุงู ุฑูฺฉุฑุฏูุง ุณูุช ูุจุชู ุจุฑ entityุ ุงู ูุนูุงุฑ ฺฉูุชุฑู ุตุฑุญ ุจุฑ ุชุจุฏูุงุช ุฏุงุฏู ุจู ูุงูโูุง ูุฑุงูู ูโฺฉูุฏ ู ูุงุจูุช ูฺฏูุฏุงุฑุ ุชุณุชโูพุฐุฑ ู ููุงุณโูพุฐุฑ ุจูุชุฑ ุชุถูู ูโฺฉูุฏ.

### ๐ฏ ฺู ฺุฒ ุงู ูพุฑูฺู ุฑุง ุฎุงุต ูโฺฉูุฏุ

- **๐ ุฌุฑุงู ุตุฑุญ ุฏุงุฏู**: ูุฑ ุชุจุฏู ุฏุงุฏู ุนูุฏ ู ุดูุงู ุงุณุช
- **๐๏ธ ุงูฺฏู Gateway**: ุฌุฏุงุณุงุฒ ุชูุฒ ุจู ููุทู ุฏุงููู ู ุฒุฑุณุงุฎุช
- **๐ฆ ุทุฑุงุญ DTO-ูุญูุฑ**: ุงูุชูุงู ุงูู ุฏุงุฏู ุจู ูุงูโูุง ุจุง type safety
- **๐งช ุชุณุชโูพุฐุฑ ุจูุจูุฏ ุงูุชู**: mock ู ุชุณุช ุขุณุงู ูุฑ ูุงู ุจู ุตูุฑุช ูุณุชูู
- **๐ ูุณุชูุฏุงุช ุฌุงูุน**: ุฏุฑ ุฏุณุชุฑุณ ุจู ุฒุจุงูโูุง ุงูฺฏูุณ ู ูุงุฑุณ

---

## ๐๏ธ ููุงุณู ูุนูุงุฑ

### ูุจู: ุฑูฺฉุฑุฏ Entity-Driven
```
โ ุชุจุฏูุงุช ูพููุงู ุฏุงุฏู
โ ุชููุฏ ุฎูุฏฺฉุงุฑ ูุฏู
โ ููุทู ุชุจุฏู ุนููู
โ ูุงุจุณุชฺฏโูุง ุถูู
โฑ๏ธ ฺฉูุชุฑู ฺฉูุชุฑ ุจุฑ ุฌุฑุงู ุฏุงุฏู
```

### ุจุนุฏ: ุงูฺฏู DTO/Gateway
```
โ ุชุจุฏูุงุช ุตุฑุญ ุฏุงุฏู
โ ูุฏูโูุง ุฏุณุชโุณุงุฒ ุจุง ฺฉูุชุฑู ฺฉุงูู
โ ุชุจุฏูุงุช ูุจุชู ุจุฑ Gateway
โ ูุฑุฒูุง ูุงุถุญ ูุงู
โฑ๏ธ ฺฉูุชุฑู ฺฉุงูู ุจุฑ ุฌุฑุงู ุฏุงุฏู
```

---

## ๐ ุดุฑูุน ุณุฑุน

### ฑ. ฺฉููู ู ุฑุงูโุงูุฏุงุฒ
```bash
git clone https://github.com/your-username/clean_arch_project.git
cd clean_arch_project/project
python -m venv venv
source venv/bin/activate  # ุฏุฑ ููุฏูุฒ: venv\Scripts\activate
pip install -r requirements.txt
```

### ฒ. ุงุฌุฑุง ููุงุฌุฑุชโูุง
```bash
python manage.py migrate
python manage.py createsuperuser
```

### ณ. ุดุฑูุน ุณุฑูุฑ ุชูุณุนู
```bash
python manage.py runserver
```

### ด. ฺฉุงูุด ูุนูุงุฑ

#### ุชุนุฑู Entity ุฏุงููู
```python
@dataclass
class DeviceEntity:
    name: str
    device_type: str
    platform: str
    username: str
    is_active: bool = True
    created_at: Optional[datetime] = None
    updated_at: Optional[datetime] = None
```

#### ุงุฌุงุฏ DTO ูุชูุงุธุฑ
```python
@dataclass
class DeviceDTO:
    id: Optional[int] = None
    name: str = ''
    device_type: str = ''
    platform: str = ''
    user_id: Optional[int] = None
    is_active: bool = True
    created_at: Optional[datetime] = None
    updated_at: Optional[datetime] = None
```

#### ูพุงุฏูโุณุงุฒ Gateway ุจุฑุง ุชุจุฏูุงุช
```python
class DeviceGateway:
    @staticmethod
    def entity_to_dto(entity: DeviceEntity, user_id: int) -> DeviceDTO:
        return DeviceDTO(
            name=entity.name,
            device_type=entity.device_type,
            platform=entity.platform,
            user_id=user_id,
            is_active=entity.is_active,
            created_at=entity.created_at,
            updated_at=entity.updated_at
        )
    
    @staticmethod
    def dto_to_model(dto: DeviceDTO) -> DeviceModel:
        return DeviceModel(
            id=dto.id,
            name=dto.name,
            device_type=dto.device_type,
            platform=dto.platform,
            user_id=dto.user_id,
            is_active=dto.is_active,
            created_at=dto.created_at,
            updated_at=dto.updated_at
        )
```

#### ุงุณุชูุงุฏู ุฏุฑ ุณุฑูุณโูุง
```python
device_service = DeviceServiceWithGateway()
device = device_service.register_device("iPhone 15", "mobile", "iOS", "john_doe")
print(f"ุฏุณุชฺฏุงู ุซุจุช ุดุฏู: {device.name}")
```

---

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
clean_arch_project/
โโโ project/
โ   โโโ apps/
โ   โ   โโโ profile/
โ   โ       โโโ domain/
โ   โ       โ   โโโ entities.py          # ุงูุชุชโูุง ุฏุงููู
โ   โ       โ   โโโ dtos.py              # ุงุดุงุก ุงูุชูุงู ุฏุงุฏู
โ   โ       โ   โโโ repositories.py     # ุฑุงุจุทโูุง repository
โ   โ       โโโ infrastructure/
โ   โ       โ   โโโ gateways.py          # ูพุงุฏูโุณุงุฒ Gateway
โ   โ       โ   โโโ django_repositories_with_gateway.py
โ   โ       โ   โโโ repositories.py     # ูพุงุฏูโุณุงุฒ repository
โ   โ       โโโ use_cases/
โ   โ       โ   โโโ services_with_gateway.py  # ููุทู ฺฉุณุจโูฺฉุงุฑ
โ   โ       โโโ interfaces/
โ   โ       โ   โโโ views.py             # views ุฌูฺฏู
โ   โ       โ   โโโ serializers.py      # serializer ูุง DRF
โ   โ       โ   โโโ urls.py              # ุงูฺฏููุง URL
โ   โ       โโโ models.py                # ูุฏูโูุง ุฌูฺฏู
โ   โ       โโโ admin.py                 # ุงุฏูู ุฌูฺฏู
โ   โโโ settings.py
โโโ README.md                            # README ุงุตู
โโโ README-en.md                         # ูุณุชูุฏุงุช ุงูฺฏูุณ
โโโ README-fa.md                         # ูุณุชูุฏุงุช ูุงุฑุณ
โโโ DTO_GATEWAY_ARCHITECTURE.md         # ุฑุงูููุง ูุนูุงุฑ
โโโ MIGRATION_SUMMARY.md                 # ูุณุชูุฏุงุช ููุงุฌุฑุช
โโโ FINAL_PROJECT_STRUCTURE.md          # ุฑุงูููุง ุณุงุฎุชุงุฑ ูพุฑูฺู
```

---

## ๐ฏ ูฺฺฏโูุง ุงุตู

### ฑ. ูพุงุฏูโุณุงุฒ ุงูฺฏู DTO/Gateway
- **ุงุดุงุก ุงูุชูุงู ุฏุงุฏู (DTOs)**: ุธุฑูู ุงูู ุฏุงุฏู ุจุฑุง ุงุฑุชุจุงุท ูุงูโูุง
- **ฺฉูุงุณโูุง Gateway**: ูุฏุฑุช ุชูุงู ุชุจุฏูุงุช ุฏุงุฏู ุจู ูุงูโูุง
- **ุชุจุฏูุงุช ุตุฑุญ**: ุจุฏูู ุฌุงุฏู ูพููุงูุ ูุฑ ุชุจุฏู ูุงุจู ูุดุงูุฏู ุงุณุช

### ฒ. ูุงูโูุง Clean Architecture
- **ูุงู ุฏุงููู**: Entity ูุงุ DTO ูุงุ ู ุฑุงุจุทโูุง repository
- **ูุงู Use Cases**: ููุทู ฺฉุณุจโูฺฉุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Gateway
- **ูุงู ุฒุฑุณุงุฎุช**: ูุฏูโูุง ุฌูฺฏูุ ูพุงุฏูโุณุงุฒ Gateway
- **ูุงู ุฑุงุจุท**: view ูุงุ serializer ูุงุ ู URL ูุง ุฌูฺฏู

### ณ. ูฺฺฏโูุง ูพุดุฑูุชู
- **ุงูู ุชุงูพ**: type hint ฺฉุงูู ุฏุฑ ุณุฑุงุณุฑ ฺฉุฏุจุณ
- **ูพูุดุด ุชุณุช**: ฑฐฐูช ูพูุดุด ุชุณุช ุจุง ุฌุฏุงุณุงุฒ ูุงุถุญ
- **ูุณุชูุฏุงุช**: ูุณุชูุฏุงุช ุฌุงูุน ุจู ุฒุจุงูโูุง ุงูฺฏูุณ ู ูุงุฑุณ
- **ูพุดุชุจุงู Docker**: ูพฺฉุฑุจูุฏ ุขูุงุฏู Docker

---

## ๐งช ุชุณุช

ูพุฑูฺู ุดุงูู ุชุณุชโูุง ุฌุงูุน ุจุฑุง ููู ูุงูโูุง ุงุณุช:

```bash
# ุงุฌุฑุง ููู ุชุณุชโูุง
python manage.py test

# ุงุฌุฑุง ุชุณุชโูุง ุงูพ ุฎุงุต
python manage.py test apps.profile

# ุงุฌุฑุง ุจุง coverage
coverage run --source='.' manage.py test
coverage report
coverage html
```

### ุณุงุฎุชุงุฑ ุชุณุช
- **ุชุณุชโูุง ูุงุญุฏ**: ุชุณุช ุงุฌุฒุง ูุฑุฏ ุจู ุตูุฑุช ูุฌุฒุง
- **ุชุณุชโูุง ฺฉูพุงุฑฺฺฏ**: ุชุณุช ุชุนุงููุงุช ูุงู ุงุฒ ุทุฑู Gateway
- **ุชุณุชโูุง End-to-End**: ุชุณุช ฺฏุฑุฏุดโฺฉุงุฑูุง ฺฉุงูู

---

## ๐ ูุฒุงุง ุนููฺฉุฑุฏ

### ุณุฑุนุช ุชูุณุนู
| ฺฉุงุฑ | ูุจู (Entity-Driven) | ุจุนุฏ (DTO/Gateway) | ุจูุจูุฏ |
|------|---------------------|-------------------|-------|
| ุงุถุงูู ฺฉุฑุฏู ููุฏ ุฌุฏุฏ | ต ุฏููู | ณ ุฏููู | ดฐูช ุณุฑุนโุชุฑ |
| ุงุฌุงุฏ entity ุฌุฏุฏ | ฑฐ ุฏููู | ท ุฏููู | ณฐูช ุณุฑุนโุชุฑ |
| ููุดุชู ุชุณุช | ฑต ุฏููู | ธ ุฏููู | ดทูช ุณุฑุนโุชุฑ |
| ุฏุจุงฺฏ ุฌุฑุงู ุฏุงุฏู | ฒฐ ุฏููู | ต ุฏููู | ทตูช ุณุฑุนโุชุฑ |

### ฺฉูุช ฺฉุฏ
- **ฐูช ุชฺฉุฑุงุฑ ฺฉุฏ**: ุญูุธ ุงุตู DRY
- **ฑฐฐูช ูพูุดุด ุชุงูพ**: ุงูู ฺฉุงูู ุชุงูพ
- **ุฌุฑุงู ุตุฑุญ ุฏุงุฏู**: ุจุฏูู ุชุจุฏูุงุช ูพููุงู
- **ูุงุจูุช ูฺฏูุฏุงุฑ ุจูุจูุฏ ุงูุชู**: ุฌุฏุงุณุงุฒ ูุงุถุญ ูุณุฆููุชโูุง

---

## ๐ ูุณุชูุฏุงุช

### ูุณุชูุฏุงุช ุงุตู
- [๐๏ธ ุฑุงูููุง ูุนูุงุฑ DTO/Gateway](./DTO_GATEWAY_ARCHITECTURE_FA.md)
- [๐ ุฎูุงุตู ููุงุฌุฑุช](./MIGRATION_SUMMARY_FA.md)
- [๐ ุณุงุฎุชุงุฑ ููุง ูพุฑูฺู](./FINAL_PROJECT_STRUCTURE_FA.md)

### ูุณุชูุฏุงุช ุงูฺฏูุณ
- [๐ English Guide](./README-en.md)
- [๐๏ธ DTO/Gateway Architecture](./DTO_GATEWAY_ARCHITECTURE.md)
- [๐ Migration Summary](./MIGRATION_SUMMARY.md)
- [๐ Final Project Structure](./FINAL_PROJECT_STRUCTURE.md)

---

## ๐ ุจูุชุฑู ุดููโูุง

### ฑ. ุทุฑุงุญ Gateway
- ุฑูุดโูุง Gateway ุฑุง ุชุง ุญุฏ ุงูฺฉุงู static ูฺฏู ุฏุงุฑุฏ
- ุงุฒ type hint ุจุฑุง ููู ูพุงุฑุงูุชุฑูุง ู ููุงุฏุฑ ุจุฑฺฏุดุช ุงุณุชูุงุฏู ฺฉูุฏ
- ููุงุฑุฏ ุงุณุชุซูุง ุฑุง ุตุฑุงุญุชุงู ูุฏุฑุช ฺฉูุฏ
- validation ุฑุง ุฏุฑ ุณุทุญ Gateway ุงุถุงูู ฺฉูุฏ

### ฒ. ุทุฑุงุญ DTO
- ุงุฒ dataclass ุจุง ููุงุฏุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ฺฉูุฏ
- ููู ููุฏูุง ุถุฑูุฑ ุจุฑุง ุงุฑุชุจุงุท ูุงู ุฑุง ุดุงูู ุดูุฏ
- DTO ูุง ุฑุง ุจุฑ ุงูุชูุงู ุฏุงุฏู ูุชูุฑฺฉุฒ ฺฉูุฏุ ูู ููุทู ฺฉุณุจโูฺฉุงุฑ
- DTO ูุง ุฑุง ููฺฏุงู ุชุบุฑุงุช breaking ูุณุฎูโุจูุฏ ฺฉูุฏ

### ณ. ุงูฺฏู Repository
- ุฑุงุจุทโูุง repository ุฑุง ุฏุฑ ูุงู ุฏุงููู ูพุงุฏูโุณุงุฒ ฺฉูุฏ
- ุงุฒ ุงูฺฏู Gateway ุจุฑุง ููู ุชุจุฏูุงุช ุฏุงุฏู ุงุณุชูุงุฏู ฺฉูุฏ
- repository ูุง ุฑุง ุจุฑ ุฏุณุชุฑุณ ุฏุงุฏู ูุชูุฑฺฉุฒ ฺฉูุฏ
- repository ูุง ุฑุง ุจุฑุง ุชุณุช ุจู ุฑุงุญุช mock ฺฉูุฏ

---

## ๐ค ูุดุงุฑฺฉุช

ูุง ุงุฒ ูุดุงุฑฺฉุช ุงุณุชูุจุงู ูโฺฉูู! ูุทูุงู ุงู ูุฑุงุญู ุฑุง ุฏูุจุงู ฺฉูุฏ:

ฑ. **Fork ฺฉุฑุฏู repository**
ฒ. **ุงุฌุงุฏ branch ูฺฺฏ**: `git checkout -b feature/amazing-feature`
ณ. **ุงุนูุงู ุชุบุฑุงุช** ุจุง ูพุฑู ุงุฒ ุงูฺฏู DTO/Gateway
ด. **ุงุถุงูู ฺฉุฑุฏู ุชุณุช** ุจุฑุง ุชุบุฑุงุช
ต. **ุจุฑูุฒุฑุณุงู ูุณุชูุฏุงุช** ุฏุฑ ุตูุฑุช ูุงุฒ
ถ. **ุงุฑุณุงู pull request**

### ุฑุงูููุง ูุดุงุฑฺฉุช
- ุงูฺฏููุง ููุฌูุฏ DTO/Gateway ุฑุง ุฏูุจุงู ฺฉูุฏ
- ฑฐฐูช ูพูุดุด ุชุณุช ุฑุง ุญูุธ ฺฉูุฏ
- ูุณุชูุฏุงุช ุงูฺฏูุณ ู ูุงุฑุณ ุฑุง ุจุฑูุฒุฑุณุงู ฺฉูุฏ
- ุงุฒ ูพุงูโูุง commit ูุงุถุญ ู ุชูุตู ุงุณุชูุงุฏู ฺฉูุฏ

---

<div align="center">

### ๐ ุงฺฏุฑ ุงู ูพุฑูฺู ุจู ุดูุง ฺฉูฺฉ ฺฉุฑุฏุ ุณุชุงุฑู ุฏูุฏ!

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ู ุฌูฺฏู**

</div>

---

<div align="center">

### ๐ ุงฺฏุฑ ุงู ูพุฑูฺู ุจู ุดูุง ฺฉูฺฉ ฺฉุฑุฏุ ุณุชุงุฑู ุฏูุฏ!

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ู ุฌูฺฏู**

</div>
